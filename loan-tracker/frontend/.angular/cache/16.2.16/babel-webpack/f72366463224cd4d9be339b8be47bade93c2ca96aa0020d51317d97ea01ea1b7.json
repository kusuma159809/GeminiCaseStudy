{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/loan.service\";\nimport * as i2 from \"@angular/common\";\nfunction DashboardComponent_div_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵpipe(1, \"currency\");\n    i0.ɵɵelementStart(2, \"div\", 11);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 12);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const trend_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵstyleProp(\"height\", ctx_r0.getBarHeight(trend_r1.count), \"px\");\n    i0.ɵɵproperty(\"title\", trend_r1.month + \": \" + trend_r1.count + \" loans, \" + i0.ɵɵpipeBind1(1, 5, trend_r1.amount));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.getMonthLabel(trend_r1.month));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(trend_r1.count);\n  }\n}\nlet DashboardComponent = /*#__PURE__*/(() => {\n  class DashboardComponent {\n    constructor(loanService) {\n      this.loanService = loanService;\n      this.stats = {};\n    }\n    ngOnInit() {\n      this.loadStats();\n    }\n    loadStats() {\n      this.loanService.getDashboardStats().subscribe({\n        next: stats => this.stats = stats,\n        error: error => console.error('Error loading stats:', error)\n      });\n    }\n    getBarHeight(count) {\n      const maxCount = Math.max(...(this.stats.trends?.map(t => t.count) || [1]));\n      return Math.max(20, count / maxCount * 150);\n    }\n    getMonthLabel(month) {\n      return new Date(month + '-01').toLocaleDateString('en-US', {\n        month: 'short',\n        year: '2-digit'\n      });\n    }\n    static {\n      this.ɵfac = function DashboardComponent_Factory(t) {\n        return new (t || DashboardComponent)(i0.ɵɵdirectiveInject(i1.LoanService));\n      };\n    }\n    static {\n      this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n        type: DashboardComponent,\n        selectors: [[\"app-dashboard\"]],\n        decls: 37,\n        vars: 14,\n        consts: [[1, \"stats-grid\"], [1, \"stat-card\"], [1, \"stat-value\"], [1, \"stat-amount\"], [1, \"stat-card\", \"approved\"], [1, \"stat-card\", \"pending\"], [1, \"stat-card\", \"rejected\"], [1, \"chart-section\"], [1, \"chart-container\"], [\"class\", \"chart-bar\", 3, \"height\", \"title\", 4, \"ngFor\", \"ngForOf\"], [1, \"chart-bar\", 3, \"title\"], [1, \"bar-label\"], [1, \"bar-value\"]],\n        template: function DashboardComponent_Template(rf, ctx) {\n          if (rf & 1) {\n            i0.ɵɵelementStart(0, \"h2\");\n            i0.ɵɵtext(1, \"Loan Dashboard\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(2, \"div\", 0)(3, \"div\", 1)(4, \"h3\");\n            i0.ɵɵtext(5, \"Total Loans\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(6, \"div\", 2);\n            i0.ɵɵtext(7);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(8, \"div\", 3);\n            i0.ɵɵtext(9);\n            i0.ɵɵpipe(10, \"currency\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(11, \"div\", 4)(12, \"h3\");\n            i0.ɵɵtext(13, \"Approved\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(14, \"div\", 2);\n            i0.ɵɵtext(15);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(16, \"div\", 3);\n            i0.ɵɵtext(17);\n            i0.ɵɵpipe(18, \"currency\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(19, \"div\", 5)(20, \"h3\");\n            i0.ɵɵtext(21, \"Pending\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(22, \"div\", 2);\n            i0.ɵɵtext(23);\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(24, \"div\", 3);\n            i0.ɵɵtext(25);\n            i0.ɵɵpipe(26, \"currency\");\n            i0.ɵɵelementEnd()();\n            i0.ɵɵelementStart(27, \"div\", 6)(28, \"h3\");\n            i0.ɵɵtext(29, \"Rejected\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(30, \"div\", 2);\n            i0.ɵɵtext(31);\n            i0.ɵɵelementEnd()()();\n            i0.ɵɵelementStart(32, \"div\", 7)(33, \"h3\");\n            i0.ɵɵtext(34, \"Loan Trends\");\n            i0.ɵɵelementEnd();\n            i0.ɵɵelementStart(35, \"div\", 8);\n            i0.ɵɵtemplate(36, DashboardComponent_div_36_Template, 6, 7, \"div\", 9);\n            i0.ɵɵelementEnd()();\n          }\n          if (rf & 2) {\n            i0.ɵɵadvance(7);\n            i0.ɵɵtextInterpolate(ctx.stats.totalLoans || 0);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(10, 8, ctx.stats.totalAmount));\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(ctx.stats.approvedCount || 0);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(18, 10, ctx.stats.approvedAmount));\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(ctx.stats.pendingCount || 0);\n            i0.ɵɵadvance(2);\n            i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(26, 12, ctx.stats.pendingAmount));\n            i0.ɵɵadvance(6);\n            i0.ɵɵtextInterpolate(ctx.stats.rejectedCount || 0);\n            i0.ɵɵadvance(5);\n            i0.ɵɵproperty(\"ngForOf\", ctx.stats.trends);\n          }\n        },\n        dependencies: [i2.NgForOf, i2.CurrencyPipe],\n        styles: [\".stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-bottom:30px}.stat-card[_ngcontent-%COMP%]{background:white;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a;text-align:center}.stat-card.approved[_ngcontent-%COMP%]{border-left:4px solid #28a745}.stat-card.pending[_ngcontent-%COMP%]{border-left:4px solid #ffc107}.stat-card.rejected[_ngcontent-%COMP%]{border-left:4px solid #dc3545}.stat-value[_ngcontent-%COMP%]{font-size:2em;font-weight:700;color:#333}.stat-amount[_ngcontent-%COMP%]{color:#666;margin-top:5px}.chart-section[_ngcontent-%COMP%]{background:white;padding:20px;border-radius:8px;box-shadow:0 2px 4px #0000001a}.chart-container[_ngcontent-%COMP%]{display:flex;align-items:end;gap:10px;height:200px;padding:20px 0}.chart-bar[_ngcontent-%COMP%]{background:#007bff;min-width:40px;border-radius:4px 4px 0 0;position:relative;cursor:pointer;transition:background .3s}.chart-bar[_ngcontent-%COMP%]:hover{background:#0056b3}.bar-label[_ngcontent-%COMP%]{position:absolute;bottom:-25px;left:50%;transform:translate(-50%);font-size:12px;white-space:nowrap}.bar-value[_ngcontent-%COMP%]{position:absolute;top:-20px;left:50%;transform:translate(-50%);font-size:12px;font-weight:700}\"]\n      });\n    }\n  }\n  return DashboardComponent;\n})();\nexport { DashboardComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}